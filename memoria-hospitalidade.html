<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mem√≥ria e Hospitalidade</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700;900&family=Montserrat:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            padding: 0;
        }

        /* Header */
        header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            padding: 1.5rem 5%;
        }

        .header-content {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 1.5rem;
            flex-wrap: wrap;
        }

        .logo {
            font-family: 'Playfair Display', serif;
            font-size: 2rem;
            font-weight: 900;
            background: linear-gradient(135deg, #1a4d2e, #e76f51);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            letter-spacing: -1px;
        }

        .nav-menu {
            display: flex;
            gap: 2rem;
            align-items: center;
        }

        .nav-link {
            font-family: 'Montserrat', sans-serif;
            font-size: 1.1rem;
            color: #2d3142;
            text-decoration: none;
            font-weight: 600;
            transition: color 0.3s ease;
        }

        .nav-link:hover {
            color: #1a4d2e;
        }

        /* Game Wrapper */
        .game-wrapper {
            flex: 1;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            width: 100%;
        }

        /* Tela Inicial */
        .home-screen {
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            text-align: center;
        }

        .home-image {
            width: 100%;
            max-width: 800px;
            height: auto;
            border-radius: 15px;
            margin: 0 auto 30px;
            position: relative;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .home-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }

        .play-banner {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(255,255,255,0.95);
            padding: 15px 40px;
            border-radius: 30px;
            font-weight: bold;
            font-size: 20px;
            color: #667eea;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            z-index: 10;
        }

        .play-banner:hover {
            transform: translateX(-50%) scale(1.1);
            background: #667eea;
            color: white;
        }

        .home-screen h1 {
            font-size: 36px;
            color: #333;
            margin-bottom: 20px;
        }

        .difficulty-section {
            margin: 30px 0;
        }

        .difficulty-section h2 {
            font-size: 24px;
            color: #555;
            margin-bottom: 20px;
        }

        .difficulty-options {
            display: flex;
            gap: 20px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .difficulty-card {
            background: #f8f9fa;
            border: 3px solid #e0e0e0;
            border-radius: 15px;
            padding: 20px 30px;
            cursor: pointer;
            transition: all 0.3s ease;
            min-width: 150px;
        }

        .difficulty-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }

        .difficulty-card.selected {
            border-color: #667eea;
            background: #f0f4ff;
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3);
        }

        .difficulty-card h3 {
            font-size: 20px;
            margin-bottom: 5px;
            color: #333;
        }

        .difficulty-card p {
            font-size: 14px;
            color: #666;
        }

        /* Configura√ß√µes */
        .settings-btn {
            background: #f8f9fa;
            border: 2px solid #e0e0e0;
            padding: 10px 20px;
            border-radius: 10px;
            cursor: pointer;
            margin-top: 20px;
            transition: all 0.3s ease;
        }

        .settings-btn:hover {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }

        .settings-panel {
            display: none;
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
        }

        .settings-panel.active {
            display: block;
        }

        .setting-item {
            margin: 15px 0;
            text-align: left;
        }

        .setting-item label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: #555;
        }

        .setting-item input {
            width: 100%;
            padding: 10px;
            border: 2px solid #e0e0e0;
            border-radius: 5px;
            font-size: 16px;
        }

        /* Tela de Jogo */
        .game-screen {
            display: none;
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }

        .game-screen.active {
            display: block;
        }

        .game-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
            gap: 15px;
        }

        .game-info {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
        }

        .info-card {
            background: #f8f9fa;
            padding: 10px 20px;
            border-radius: 10px;
            border: 2px solid #e0e0e0;
        }

        .info-card h3 {
            font-size: 12px;
            color: #666;
            margin-bottom: 5px;
        }

        .info-card p {
            font-size: 24px;
            font-weight: bold;
            color: #667eea;
        }

        .back-btn {
            background: #f44336;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .back-btn:hover {
            background: #d32f2f;
            transform: scale(1.05);
        }

        .game-banner {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            font-size: 20px;
            font-weight: bold;
            margin-bottom: 20px;
        }

        .game-grid {
            display: grid;
            gap: 15px;
            margin: 20px auto;
            max-width: 800px;
        }

        .card {
            aspect-ratio: 1;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 15px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-size: 48px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            position: relative;
            overflow: hidden;
            padding: 10px;
        }

        .card:hover:not(.matched):not(.revealed) {
            transform: scale(1.05);
            box-shadow: 0 8px 20px rgba(0,0,0,0.3);
        }

        .card.revealed,
        .card.matched {
            background: white;
            border: 3px solid #667eea;
        }

        .card.matched {
            background: #e8f5e9;
            border: 3px solid #4caf50;
            cursor: default;
            opacity: 0.95;
        }

        .card-icon {
            font-size: 48px;
            margin-bottom: 8px;
        }

        .card-label {
            font-size: 12px;
            font-weight: bold;
            color: #667eea;
            text-align: center;
            line-height: 1.2;
            max-width: 100%;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            padding: 0 5px;
        }

        .card.matched .card-label {
            color: #4caf50;
        }

        .card.question-mark::before {
            content: '?';
            color: white;
            font-size: 64px;
            font-weight: bold;
        }

        .card.question-mark::after {
            content: attr(data-number);
            position: absolute;
            top: 10px;
            right: 10px;
            background: rgba(255, 255, 255, 0.3);
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            font-weight: bold;
            border: 2px solid rgba(255, 255, 255, 0.5);
        }

        .completion-screen {
            display: none;
            text-align: center;
            padding: 40px;
        }

        .completion-screen.active {
            display: block;
        }

        .completion-screen h2 {
            font-size: 36px;
            color: #4caf50;
            margin-bottom: 20px;
        }

        .completion-screen p {
            font-size: 20px;
            color: #666;
            margin-bottom: 30px;
        }

        .completion-buttons {
            display: flex;
            gap: 20px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .btn {
            padding: 14px 28px;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-danger { 
            padding: 12px 30px;
            border: none;
            border-radius: 10px;
            font-size: 18px;
            cursor: pointer;
            transition: all 0.3s ease;
            background: #f44336;
            color: white;
        }

        .btn-primary {
            background: #667eea;
            color: white;
        }

        .btn-primary:hover {
            background: #5568d3;
            transform: scale(1.05);
        }

        .btn-secondary {
            background: #f8f9fa;
            color: #333;
            border: 2px solid #e0e0e0;
        }

        .btn-secondary:hover {
            background: #e0e0e0;
            transform: scale(1.05);
        }

        @media (max-width: 768px) {
            .game-header {
                flex-direction: column;
                align-items: stretch;
            }

            .game-info {
                justify-content: space-between;
            }

            .card-icon {
                font-size: 28px;
                margin-bottom: 4px;
            }

            .card-label {
                font-size: 9px;
            }

            .home-screen {
                padding: 20px;
            }

            .home-screen h1 {
                font-size: 24px;
            }

            .difficulty-section h2 {
                font-size: 18px;
            }

            .play-banner {
                position: static;
                transform: none;
                margin-top: 15px;
                padding: 12px 30px;
                font-size: 16px;
                display: inline-block;
            }

            .play-banner:hover {
                transform: scale(1.05);
            }

            .home-image {
                margin-bottom: 0;
            }
        }

        /* Footer */
        footer {
            background: #1a4d2e;
            color: white;
            text-align: center;
            padding: 2rem 5%;
        }

        footer p {
            opacity: 0.9;
            font-size: 0.95rem;
            margin: 0;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="header-content">
            <div class="logo">TH&L</div>
            <nav class="nav-menu">
                <a href="../index.html" class="nav-link">In√≠cio</a>
                <a href="index.html" class="nav-link">Jogos</a>
                <a href="../index.html#sobre" class="nav-link">Sobre</a>
            </nav>
        </div>
    </header>

    <div class="game-wrapper">
    <div class="container">
        <!-- Tela Inicial -->
        <div class="home-screen" id="homeScreen">
            <h1>üè® Mem√≥ria e Hospitalidade
                <button class="btn btn-danger" onclick="location.href='index.html'">‚Üê Voltar</button>
            </h1>
            <div class="home-image">
                <img src="images/memoria-hospitalidade.png" alt="Mem√≥ria e Hospitalidade" />
                <div class="play-banner" onclick="startGame()">
                    üéÆ JOGAR
                </div>
            </div>

            <div class="difficulty-section">
                <h2>Escolha o N√≠vel de Dificuldade</h2>
                <div class="difficulty-options">
                    <div class="difficulty-card selected" data-level="easy" onclick="selectDifficulty('easy')">
                        <h3>üòä F√°cil</h3>
                        <p>2x3 = 6 cartas</p>
                    </div>
                    <div class="difficulty-card" data-level="medium" onclick="selectDifficulty('medium')">
                        <h3>ü§î M√©dio</h3>
                        <p>3x4 = 12 cartas</p>
                    </div>
                    <div class="difficulty-card" data-level="hard" onclick="selectDifficulty('hard')">
                        <h3>üòé Dif√≠cil</h3>
                        <p>4x4 = 16 cartas</p>
                    </div>
                </div>
            </div>

            <button class="settings-btn" onclick="toggleSettings()">‚öôÔ∏è Configura√ß√µes de Tempo</button>
            
            <div class="settings-panel" id="settingsPanel">
                <div class="setting-item">
                    <label>Tempo de Memoriza√ß√£o - F√°cil (segundos):</label>
                    <input type="number" id="timeEasy" value="20" min="5" max="60">
                </div>
                <div class="setting-item">
                    <label>Tempo de Memoriza√ß√£o - M√©dio (segundos):</label>
                    <input type="number" id="timeMedium" value="25" min="5" max="60">
                </div>
                <div class="setting-item">
                    <label>Tempo de Memoriza√ß√£o - Dif√≠cil (segundos):</label>
                    <input type="number" id="timeHard" value="30" min="5" max="60">
                </div>
            </div>
        </div>

        <!-- Tela de Jogo -->
        <div class="game-screen" id="gameScreen">
            <div class="game-header">
                <div class="game-info">
                    <div class="info-card">
                        <h3>‚è±Ô∏è TEMPO</h3>
                        <p id="timer">0s</p>
                    </div>
                    <div class="info-card">
                        <h3>üéØ PONTOS</h3>
                        <p id="score">0</p>
                    </div>
                    <div class="info-card">
                        <h3>üéÆ FASE</h3>
                        <p id="phase">Memoriza√ß√£o</p>
                    </div>
                </div>
                <button class="back-btn" onclick="goHome()">‚Üê Voltar</button>
            </div>

            <div class="game-banner" id="gameBanner">
                üì∏ Memorize as posi√ß√µes das imagens!
            </div>

            <div class="game-grid" id="gameGrid"></div>

            <div class="completion-screen" id="completionScreen">
                <h2>üéâ Parab√©ns!</h2>
                <p id="completionMessage">Voc√™ completou o jogo!</p>
                <div class="completion-buttons">
                    <button class="btn btn-primary" onclick="restartGame()">üîÑ Jogar Novamente</button>
                    <button class="btn btn-secondary" onclick="goHome()">üè† Voltar ao In√≠cio</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Pictogramas ISO 7001 para Turismo e Hospitalidade
        const ICONS = [
            { icon: '‚úàÔ∏è', label: 'Aeroporto' },
            { icon: 'üè®', label: 'Hotel' },
            { icon: 'üçΩÔ∏è', label: 'Restaurante' },
            { icon: 'üèñÔ∏è', label: 'Praia' },
            { icon: 'üì∑', label: 'Turismo' },
            { icon: 'üß≥', label: 'Bagagem' },
            { icon: 'üó∫Ô∏è', label: 'Informa√ß√£o' },
            { icon: 'üõèÔ∏è', label: 'Acomoda√ß√£o' },
            { icon: '‚òï', label: 'Cafeteria' },
            { icon: 'üèïÔ∏è', label: 'Camping' },
            { icon: 'üé≠', label: 'Teatro' },
            { icon: 'üèõÔ∏è', label: 'Museu' },
            { icon: 'üå¥', label: 'Resort' },
            { icon: '‚õ±Ô∏è', label: 'Lazer' },
            { icon: 'üß≠', label: 'Navega√ß√£o' },
            { icon: 'üé™', label: 'Eventos' },
            { icon: 'üç∑', label: 'Bar' },
            { icon: 'üõéÔ∏è', label: 'Recep√ß√£o' },
            { icon: 'üö™', label: 'Quarto' },
            { icon: 'üõÅ', label: 'Banheira' },
            { icon: 'üèä', label: 'Piscina' },
            { icon: 'üç≥', label: 'Caf√© Manh√£' },
            { icon: 'üß∫', label: 'Lavanderia' },
            { icon: 'üöñ', label: 'T√°xi' },
            { icon: 'üé´', label: 'Ingressos' },
            { icon: 'üèãÔ∏è', label: 'Academia' },
            { icon: 'üßñ', label: 'Spa' },
            { icon: 'üçï', label: 'Pizzaria' },
            { icon: 'üçî', label: 'Lanchonete' },
            { icon: 'ü•Ç', label: 'Celebra√ß√£o' },
            { icon: 'üéÅ', label: 'Presentes' },
            { icon: 'üîë', label: 'Check-in' },
            { icon: 'üìû', label: 'Telefone' },
            { icon: 'üì∫', label: 'TV' },
            { icon: 'üíº', label: 'Neg√≥cios' },
            { icon: 'üéÆ', label: 'Jogos' },
            { icon: 'üéπ', label: 'Piano Bar' },
            { icon: 'üåÖ', label: 'Vista' },
            { icon: '‚õ∑Ô∏è', label: 'Esqui' },
            { icon: 'üèÑ', label: 'Surf' },
            { icon: 'üö¢', label: 'Cruzeiro' },
            { icon: 'üé°', label: 'Parque' },
            { icon: 'üè∞', label: 'Castelo' },
            { icon: '‚õ™', label: 'Igreja' },
            { icon: 'üå∫', label: 'Jardim' },
            { icon: 'ü¶ú', label: 'Zool√≥gico' },
            { icon: 'üé®', label: 'Galeria' },
            { icon: 'üìö', label: 'Biblioteca' },
            { icon: 'üç∞', label: 'Confeitaria' },
            { icon: 'ü•ó', label: 'Saud√°vel' },
            { icon: 'üåÆ', label: 'Internacional' },
            { icon: 'üçú', label: 'Asi√°tica' },
            { icon: 'üßä', label: 'Ice Bar' },
            { icon: 'üéø', label: 'Inverno' },
            { icon: '‚õ≥', label: 'Golfe' },
            { icon: 'üéæ', label: 'T√™nis' },
            { icon: 'üö¥', label: 'Ciclismo' },
            { icon: 'üßò', label: 'Yoga' },
            { icon: 'üíÜ', label: 'Massagem' },
            { icon: 'üëî', label: 'Formal' },
            { icon: 'üå°Ô∏è', label: 'Clima' },
            { icon: 'üîí', label: 'Cofre' },
            { icon: 'üöó', label: 'Estacionamento' },
            { icon: 'üöÅ', label: 'Heliponto' },
            { icon: '‚öì', label: 'Marina' },
            { icon: 'üè∫', label: 'Antiguidades' }
        ];

        let currentDifficulty = 'easy';
        let gameState = {
            phase: 'memorization', // memorization, playing, completed
            cards: [],
            flippedCards: [],
            matchedPairs: 0,
            score: 0,
            timer: 0,
            timerInterval: null,
            memorizationTime: 20,
            rows: 2,
            cols: 3,
            isChecking: false // Novo: flag para bloquear cliques durante verifica√ß√£o
        };

        function selectDifficulty(level) {
            currentDifficulty = level;
            document.querySelectorAll('.difficulty-card').forEach(card => {
                card.classList.remove('selected');
            });
            document.querySelector(`[data-level="${level}"]`).classList.add('selected');

            // Atualizar grid baseado na dificuldade
            if (level === 'easy') {
                gameState.rows = 2;
                gameState.cols = 3;
            } else if (level === 'medium') {
                gameState.rows = 3;
                gameState.cols = 4;
            } else {
                gameState.rows = 4;
                gameState.cols = 4;
            }
        }

        function toggleSettings() {
            const panel = document.getElementById('settingsPanel');
            panel.classList.toggle('active');
        }

        function startGame() {
            // Obter tempo de memoriza√ß√£o personalizado
            let memTime = 20;
            if (currentDifficulty === 'easy') {
                memTime = parseInt(document.getElementById('timeEasy').value);
            } else if (currentDifficulty === 'medium') {
                memTime = parseInt(document.getElementById('timeMedium').value);
            } else {
                memTime = parseInt(document.getElementById('timeHard').value);
            }

            gameState.memorizationTime = memTime;
            gameState.timer = memTime;
            gameState.phase = 'memorization';
            gameState.score = 0;
            gameState.matchedPairs = 0;
            gameState.isChecking = false; // Resetar flag de verifica√ß√£o

            // Esconder tela inicial e mostrar tela de jogo
            document.getElementById('homeScreen').style.display = 'none';
            document.getElementById('gameScreen').classList.add('active');
            document.getElementById('completionScreen').classList.remove('active');

            // Inicializar cartas
            initializeCards();
            
            // Come√ßar temporizador de memoriza√ß√£o
            startMemorizationTimer();
        }

        function initializeCards() {
            const totalCards = gameState.rows * gameState.cols;
            const pairsNeeded = totalCards / 2;
            
            // Embaralhar e selecionar √≠cones aleat√≥rios
            const shuffledIcons = [...ICONS].sort(() => Math.random() - 0.5);
            const selectedIcons = shuffledIcons.slice(0, pairsNeeded);
            
            // Criar pares
            const cards = [];
            selectedIcons.forEach((iconData, index) => {
                cards.push({
                    id: index * 2,
                    icon: iconData.icon,
                    label: iconData.label,
                    pairId: index,
                    isRevealed: true,
                    isMatched: false
                });
                cards.push({
                    id: index * 2 + 1,
                    icon: iconData.icon,
                    label: iconData.label,
                    pairId: index,
                    isRevealed: true,
                    isMatched: false
                });
            });

            // Embaralhar as cartas
            gameState.cards = cards.sort(() => Math.random() - 0.5);
            
            // Renderizar grid
            renderGrid();
            updateDisplay();
        }

        function renderGrid() {
            const grid = document.getElementById('gameGrid');
            grid.innerHTML = '';
            grid.style.gridTemplateColumns = `repeat(${gameState.cols}, 1fr)`;

            gameState.cards.forEach((card, index) => {
                const cardElement = document.createElement('div');
                cardElement.className = 'card';
                cardElement.dataset.id = card.id;
                
                if (card.isMatched || card.isRevealed) {
                    if (card.isMatched) {
                        cardElement.classList.add('matched');
                    } else {
                        cardElement.classList.add('revealed');
                    }
                    
                    // Criar elementos para √≠cone e label
                    const iconSpan = document.createElement('div');
                    iconSpan.className = 'card-icon';
                    iconSpan.textContent = card.icon;
                    
                    const labelSpan = document.createElement('div');
                    labelSpan.className = 'card-label';
                    labelSpan.textContent = card.label;
                    
                    cardElement.appendChild(iconSpan);
                    cardElement.appendChild(labelSpan);
                } else {
                    cardElement.classList.add('question-mark');
                    // Adicionar n√∫mero da carta (come√ßando de 1)
                    cardElement.setAttribute('data-number', index + 1);
                }

                cardElement.onclick = () => handleCardClick(card.id);
                grid.appendChild(cardElement);
            });
        }

        function startMemorizationTimer() {
            updateDisplay();
            
            gameState.timerInterval = setInterval(() => {
                gameState.timer--;
                updateDisplay();

                if (gameState.timer <= 0) {
                    clearInterval(gameState.timerInterval);
                    endMemorizationPhase();
                }
            }, 1000);
        }

        function endMemorizationPhase() {
            // Esconder todas as cartas
            gameState.cards.forEach(card => {
                if (!card.isMatched) {
                    card.isRevealed = false;
                }
            });

            // Mudar para fase de jogo
            gameState.phase = 'playing';
            gameState.timer = 0;
            
            renderGrid();
            updateDisplay();

            // Come√ßar temporizador progressivo
            gameState.timerInterval = setInterval(() => {
                gameState.timer++;
                updateDisplay();
            }, 1000);
        }

        function handleCardClick(cardId) {
            // Bloquear cliques se n√£o estiver jogando, se est√° verificando, ou se a carta j√° est√° revelada/matched
            if (gameState.phase !== 'playing' || gameState.isChecking) return;
            
            const card = gameState.cards.find(c => c.id === cardId);
            if (!card || card.isRevealed || card.isMatched) return;

            // Revelar carta
            card.isRevealed = true;
            gameState.flippedCards.push(card);
            renderGrid();

            // Se duas cartas foram viradas
            if (gameState.flippedCards.length === 2) {
                // Bloquear novos cliques
                gameState.isChecking = true;
                
                const [card1, card2] = gameState.flippedCards;

                setTimeout(() => {
                    if (card1.pairId === card2.pairId) {
                        // Acertou!
                        card1.isMatched = true;
                        card2.isMatched = true;
                        gameState.score++;
                        gameState.matchedPairs++;

                        // Verificar se completou o jogo
                        if (gameState.matchedPairs === gameState.cards.length / 2) {
                            endGame();
                        }
                    } else {
                        // Errou - esconder cartas
                        card1.isRevealed = false;
                        card2.isRevealed = false;
                    }

                    gameState.flippedCards = [];
                    gameState.isChecking = false; // Liberar cliques novamente
                    renderGrid();
                    updateDisplay();
                }, 1000);
            }
        }

        function updateDisplay() {
            // Atualizar timer
            if (gameState.phase === 'memorization') {
                document.getElementById('timer').textContent = `${gameState.timer}s`;
            } else {
                document.getElementById('timer').textContent = `${gameState.timer}s`;
            }

            // Atualizar pontos
            document.getElementById('score').textContent = gameState.score;

            // Atualizar fase
            const phaseText = {
                'memorization': 'Memoriza√ß√£o',
                'playing': 'Jogando',
                'completed': 'Conclu√≠do'
            };
            document.getElementById('phase').textContent = phaseText[gameState.phase] || '';

            // Atualizar banner
            const banners = {
                'memorization': 'üì∏ Memorize as posi√ß√µes das imagens!',
                'playing': 'üéØ Escolha os pares corretos!',
                'completed': 'üéâ Parab√©ns! Jogo conclu√≠do!'
            };
            document.getElementById('gameBanner').textContent = banners[gameState.phase] || '';
        }

        function endGame() {
            clearInterval(gameState.timerInterval);
            gameState.phase = 'completed';
            
            const message = `Voc√™ encontrou todos os ${gameState.matchedPairs} pares em ${gameState.timer} segundos!`;
            document.getElementById('completionMessage').textContent = message;
            document.getElementById('completionScreen').classList.add('active');
            
            updateDisplay();
        }

        function restartGame() {
            clearInterval(gameState.timerInterval);
            startGame();
        }

        function goHome() {
            clearInterval(gameState.timerInterval);
            document.getElementById('homeScreen').style.display = 'block';
            document.getElementById('gameScreen').classList.remove('active');
            document.getElementById('completionScreen').classList.remove('active');
        }
    </script>
    </div>
    </div>

    <footer>
        <p>¬© 2026 L√≠lian Pacheco Ferreira Paiva. Todos os direitos reservados.</p>
    </footer>
</body>
</html>
